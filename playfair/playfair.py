from collections import Counter, OrderedDict
from itertools import combinations, permutations, groupby
ALPHABET = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']
ALPHABETSTRING = "ABCDEFGHIKLMNOPQRSTUVWXYZ"



"""
Prints all possible keys with given length for mappings set in this function
"""
def possibleKeys(length) :
  hsto = "HSTO"
  customAlphabet = "ABCDEFGIKLMNPQRUVWXYZ"
  keyParts = permutations(customAlphabet, length-4)
  for keyPart in keyParts:
    keys = permutations(''.join(keyPart) + hsto, length)
    for key in keys:
      newKey = "".join(OrderedDict.fromkeys(''.join(key)+ALPHABETSTRING))
      if not checkPossibility("TH", "OS", newKey):
        continue
      if not checkPossibility("HE", "OB", newKey):
        continue
      print(newKey)

"""
Check if plain could be mapped to code for key
"""
def checkPossibility(plain, code, key):
  plainLeftIndex = key.index(plain[0])
  plainLeftRow = int(plainLeftIndex/5)
  plainLeftCol = plainLeftIndex%5

  plainRightIndex = key.index(plain[1])
  plainRightRow = int(plainRightIndex/5)
  plainRightCol = plainRightIndex%5

  codeLeftIndex = key.index(code[0])
  codeLeftRow = int(codeLeftIndex/5)
  codeLeftCol = codeLeftIndex%5

  codeRightIndex = key.index(code[1])
  codeRightRow = int(codeRightIndex/5)
  codeRightCol = codeRightIndex%5


  if plainLeftRow == plainRightRow: #same row
    if codeLeftRow != plainLeftRow or codeRightRow != plainLeftRow:
      return False
    elif (((plainLeftCol != 4) and (codeLeftCol - plainLeftCol == 1)) or ((plainLeftCol == 4) and (codeLeftCol - plainLeftCol == -4))) and \
         (((plainRightCol != 4) and (codeRightCol - plainRightCol == 1)) or ((plainRightCol == 4) and (codeRightCol - plainRightCol == -4))): #right mapping
      pass
    else:
      return False

  elif plainLeftCol == plainRightCol: #same col
    if codeLeftCol != plainLeftCol or codeRightCol != plainLeftCol:
      return False
    elif (((plainLeftRow != 4) and (codeLeftRow - plainLeftRow == 1)) or ((plainLeftRow == 4) and (codeLeftRow - plainLeftRow == -4))) and \
         (((plainRightRow != 4) and (codeRightRow - plainRightRow == 1)) or ((plainRightRow == 4) and (codeRightRow - plainRightRow == -4))): #right mapping
      pass
    else:
      return False

  else: #different row/col
    if codeLeftRow == plainLeftRow and codeLeftCol == plainRightCol and codeRightRow == plainRightRow and codeRightCol == plainLeftCol:
      pass
    else:
      return False
  return True


"""
Prints the digram frequencies of a text
"""
def getDigramFrequencies(text):
  alphaText = ""
  for letter in text:
    if letter.isalpha():
      alphaText += letter
  second = False #true if on second letter of digram
  noDoublesText = ""
  prev = ""
  #Insert X where needed
  for letter in alphaText:
    if not second:
      noDoublesText += letter
      prev = letter
      second = True
    elif prev != letter:
      noDoublesText += letter
      second = False
    else:
      #second stays true, prev stays the same one
      noDoublesText += "X" + letter
  digrams =  []
  prev = ""
  index = 0
  digrams =  [noDoublesText[i:i+2] for i in range(0, len(noDoublesText), 2)]
  c = Counter(digrams)
  #print(c)
  print(c["IB"])
  doubleDigrams =  [noDoublesText[i:i+4] for i in range(0, len(noDoublesText), 4)]
  tripleDigrams =  [noDoublesText[i:i+6] for i in range(0, len(noDoublesText), 6)]
  quadDigrams =  [noDoublesText[i:i+8] for i in range(0, len(noDoublesText), 8)]
  quintDigrams =  [noDoublesText[i:i+10] for i in range(0, len(noDoublesText), 10)]
  hexDigrams =  [noDoublesText[i:i+12] for i in range(0, len(noDoublesText), 12)]
  noDoublesText = noDoublesText[2:]
  doubleDigrams2 =  [noDoublesText[i:i+4] for i in range(0, len(noDoublesText), 4)]
  tripleDigrams2 =  [noDoublesText[i:i+6] for i in range(0, len(noDoublesText), 6)]
  quadDigrams2 =  [noDoublesText[i:i+8] for i in range(0, len(noDoublesText), 8)]
  quintDigrams2 =  [noDoublesText[i:i+10] for i in range(0, len(noDoublesText), 10)]
  hexDigrams2 =  [noDoublesText[i:i+12] for i in range(0, len(noDoublesText), 12)]
  noDoublesText = noDoublesText[2:]
  tripleDigrams3 =  [noDoublesText[i:i+6] for i in range(0, len(noDoublesText), 6)]
  quadDigrams3 =  [noDoublesText[i:i+8] for i in range(0, len(noDoublesText), 8)]
  quintDigrams3 =  [noDoublesText[i:i+10] for i in range(0, len(noDoublesText), 10)]
  hexDigrams3 =  [noDoublesText[i:i+12] for i in range(0, len(noDoublesText), 12)]
  noDoublesText = noDoublesText[2:]
  quadDigrams4 =  [noDoublesText[i:i+8] for i in range(0, len(noDoublesText), 8)]
  quintDigrams4 =  [noDoublesText[i:i+10] for i in range(0, len(noDoublesText), 10)]
  hexDigrams4 =  [noDoublesText[i:i+12] for i in range(0, len(noDoublesText), 12)]
  noDoublesText = noDoublesText[2:]
  quintDigrams5 =  [noDoublesText[i:i+10] for i in range(0, len(noDoublesText), 10)]
  hexDigrams5 =  [noDoublesText[i:i+12] for i in range(0, len(noDoublesText), 12)]
  noDoublesText = noDoublesText[2:]
  hexDigrams6 =  [noDoublesText[i:i+12] for i in range(0, len(noDoublesText), 12)]

  cDouble = Counter(doubleDigrams+doubleDigrams2)
  cTriple = Counter(tripleDigrams+tripleDigrams2+tripleDigrams3)
  cQuad = Counter(quadDigrams+quadDigrams2+quadDigrams3+quadDigrams4)
  cQuint = Counter(quintDigrams+quintDigrams2+quintDigrams3+quintDigrams4+quintDigrams5)
  cHex = Counter(hexDigrams+hexDigrams2+hexDigrams3+hexDigrams4+hexDigrams5+hexDigrams6)
  #print(cHex) #pick something to print
      

"""
Find frequent digrams of which the reverse is also frequent
"""
def reverseInfo(text) :
  digrams =  [text[i:i+2] for i in range(0, len(text), 2)]
  c = Counter(digrams)
  appearingDigrams = list(c.keys())
  for digram in appearingDigrams:
    reverse = digram[::-1]
    freq = c[digram]
    reverseFreq = c[reverse]
    minFreq = min(freq, reverseFreq)
    if minFreq > 60:
      print(digram, minFreq)


"""
Split the text into digrams, making it easier to read
"""
def splitPlayfair(text):
  digrams =  [text[i:i+2] for i in range(0, len(text), 2)]
  splitText = ""
  for digram in digrams:
    splitText += digram + " "
  print(splitText)
  return splitText


"""
Try to decode a text using the given decode map
"""
def tryDecode(text) :
  decodeMap = {"OS": "TH", "OB": "HE", "AI": "IN", "IZ":"ER", "BI": "AT"}
  digrams =  [text[i:i+2] for i in range(0, len(text), 2)]
  result = ""
  for digram in digrams:
    if digram in decodeMap:
      result += decodeMap[digram]
    #check if opposite digram exists
    elif digram[::-1] in decodeMap:
      result += decodeMap[digram[::-1]][::-1]
    else:
      result += "__"
  print(result)
  return result

"""
Check for digrams frequently following/preceding a specific digram
"""
def getSpecific(text): 
  digrams =  [text[i:i+2] for i in range(0, len(text), 2)]
  next = False
  followingDigrams = []
  precedingDigrams = []
  prec = ""
  for digram in digrams:
    if next:
      followingDigrams.append(digram)
      next = False
    if digram == "OS":
      precedingDigrams.append(prec)
      next = True
    prec = digram
  following = Counter(followingDigrams)
  preceding = Counter(precedingDigrams)
  print(following)
  print(preceding)

verneText = "MRPHILEASFOGGLIVEDINATNOSAVILLEROWBURLINGTONGARDENSTHEHOUSEINWHICHSHERIDANDIEDINHEWASONEOFTHEMOSTNOTICEABLEMEMBERSOFTHEREFORMCLUBTHOUGHHESEEMEDALWAYSTOAVOIDATTRACTINGATTENTIONANENIGMATICALPERSONAGEABOUTWHOMLITTLEWASKNOWNEXCEPTTHATHEWASAPOLISHEDMANOFTHEWORLDPEOPLESAIDTHATHERESEMBLEDBYRONATLEASTTHATHISHEADWASBYRONICBUTHEWASABEARDEDTRANQUILBYRONWHOMIGHTLIVEONATHOUSANDYEARSWITHOUTGROWINGOLDCERTAINLYANENGLISHMANITWASMOREDOUBTFULWHETHERPHILEASFOGGWASALONDONERHEWASNEVERSEENONCHANGENORATTHEBANKNORINTHECOUNTINGROOMSOFTHECITYNOSHIPSEVERCAMEINTOLONDONDOCKSOFWHICHHEWASTHEOWNERHEHADNOPUBLICEMPLOYMENTHEHADNEVERBEENENTEREDATANYOFTHEINNSOFCOURTEITHERATTHETEMPLEORLINCOLNSINNORGRAYSINNNORHADHISVOICEEVERRESOUNDEDINTHECOURTOFCHANCERYORINTHEEXCHEQUERORTHEQUEENSBENCHORTHEECCLESIASTICALCOURTSHECERTAINLYWASNOTAMANUFACTURERNORWASHEAMERCHANTORAGENTLEMANFARMERHISNAMEWASSTRANGETOTHESCIENTIFICANDLEARNEDSOCIETIESANDHENEVERWASKNOWNTOTAKEPARTINTHESAGEDELIBERATIONSOFTHEROYALINSTITUTIONORTHELONDONINSTITUTIONTHEARTISANSASSOCIATIONORTHEINSTITUTIONOFARTSANDSCIENCESHEBELONGEDINFACTTONONEOFTHENUMEROUSSOCIETIESWHICHSWARMINTHEENGLISHCAPITALFROMTHEHARMONICTOTHATOFTHEENTOMOLOGISTSFOUNDEDMAINLYFORTHEPURPOSEOFABOLISHINGPERNICIOUSINSECTSPHILEASFOGGWASAMEMBEROFTHEREFORMANDTHATWASALLTHEWAYINWHICHHEGOTADMISSIONTOTHISEXCLUSIVECLUBWASSIMPLEENOUGHHEWASRECOMMENDEDBYTHEBARINGSWITHWHOMHEHADANOPENCREDITHISCHEQUESWEREREGULARLYPAIDATSIGHTFROMHISACCOUNTCURRENTWHICHWASALWAYSFLUSHWASPHILEASFOGGRICHUNDOUBTEDLYBUTTHOSEWHOKNEWHIMBESTCOULDNOTIMAGINEHOWHEHADMADEHISFORTUNEANDMRFOGGWASTHELASTPERSONTOWHOMTOAPPLYFORTHEINFORMATIONHEWASNOTLAVISHNORONTHECONTRARYAVARICIOUSFORWHENEVERHEKNEWTHATMONEYWASNEEDEDFORANOBLEUSEFULORBENEVOLENTPURPOSEHESUPPLIEDITQUIETLYANDSOMETIMESANONYMOUSLYHEWASINSHORTTHELEASTCOMMUNICATIVEOFMENHETALKEDVERYLITTLEANDSEEMEDALLTHEMOREMYSTERIOUSFORHISTACITURNMANNERHISDAILYHABITSWEREQUITEOPENTOOBSERVATIONBUTWHATEVERHEDIDWASSOEXACTLYTHESAMETHINGTHATHEHADALWAYSDONEBEFORETHATTHEWITSOFTHECURIOUSWEREFAIRLYPUZZLEDHADHETRAVELLEDITWASLIKELYFORNOONESEEMEDTOKNOWTHEWORLDMOREFAMILIARLYTHEREWASNOSPOTSOSECLUDEDTHATHEDIDNOTAPPEARTOHAVEANINTIMATEACQUAINTANCEWITHITHEOFTENCORRECTEDWITHAFEWCLEARWORDSTHETHOUSANDCONJECTURESADVANCEDBYMEMBERSOFTHECLUBASTOLOSTANDUNHEARDOFTRAVELLERSPOINTINGOUTTHETRUEPROBABILITIESANDSEEMINGASIFGIFTEDWITHASORTOFSECONDSIGHTSOOFTENDIDEVENTSJUSTIFYHISPREDICTIONSHEMUSTHAVETRAVELLEDEVERYWHEREATLEASTINTHESPIRITITWASATLEASTCERTAINTHATPHILEASFOGGHADNOTABSENTEDHIMSELFFROMLONDONFORMANYYEARSTHOSEWHOWEREHONOUREDBYABETTERACQUAINTANCEWITHHIMTHANTHERESTDECLAREDTHATNOBODYCOULDPRETENDTOHAVEEVERSEENHIMANYWHEREELSEHISSOLEPASTIMESWEREREADINGTHEPAPERSANDPLAYINGWHISTHEOFTENWONATTHISGAMEWHICHASASILENTONEHARMONISEDWITHHISNATUREBUTHISWINNINGSNEVERWENTINTOHISPURSEBEINGRESERVEDASAFUNDFORHISCHARITIESMRFOGGPLAYEDNOTTOWINBUTFORTHESAKEOFPLAYINGTHEGAMEWASINHISEYESACONTESTASTRUGGLEWITHADIFFICULTYYETAMOTIONLESSUNWEARYINGSTRUGGLECONGENIALTOHISTASTESPHILEASFOGGWASNOTKNOWNTOHAVEEITHERWIFEORCHILDRENWHICHMAYHAPPENTOTHEMOSTHONESTPEOPLEEITHERRELATIVESORNEARFRIENDSWHICHISCERTAINLYMOREUNUSUALHELIVEDALONEINHISHOUSEINSAVILLEROWWHITHERNONEPENETRATEDASINGLEDOMESTICSUFFICEDTOSERVEHIMHEBREAKFASTEDANDDINEDATTHECLUBATHOURSMATHEMATICALLYFIXEDINTHESAMEROOMATTHESAMETABLENEVERTAKINGHISMEALSWITHOTHERMEMBERSMUCHLESSBRINGINGAGUESTWITHHIMANDWENTHOMEATEXACTLYMIDNIGHTONLYTORETIREATONCETOBEDHENEVERUSEDTHECOSYCHAMBERSWHICHTHEREFORMPROVIDESFORITSFAVOUREDMEMBERSHEPASSEDTENHOURSOUTOFTHETWENTYFOURINSAVILLEROWEITHERINSLEEPINGORMAKINGHISTOILETWHENHECHOSETOTAKEAWALKITWASWITHAREGULARSTEPINTHEENTRANCEHALLWITHITSMOSAICFLOORINGORINTHECIRCULARGALLERYWITHITSDOMESUPPORTEDBYTWENTYREDPORPHYRYIONICCOLUMNSANDILLUMINEDBYBLUEPAINTEDWINDOWSWHENHEBREAKFASTEDORDINEDALLTHERESOURCESOFTHECLUBITSKITCHENSANDPANTRIESITSBUTTERYANDDAIRYAIDEDTOCROWDHISTABLEWITHTHEIRMOSTSUCCULENTSTORESHEWASSERVEDBYTHEGRAVESTWAITERSINDRESSCOATSANDSHOESWITHSWANSKINSOLESWHOPROFFEREDTHEVIANDSINSPECIALPORCELAINANDONTHEFINESTLINENCLUBDECANTERSOFALOSTMOULDCONTAINEDHISSHERRYHISPORTANDHISCINNAMONSPICEDCLARETWHILEHISBEVERAGESWEREREFRESHINGLYCOOLEDWITHICEBROUGHTATGREATCOSTFROMTHEAMERICANLAKESIFTOLIVEINTHISSTYLEISTOBEECCENTRICITMUSTBECONFESSEDTHATTHEREISSOMETHINGGOODINECCENTRICITYTHEMANSIONINSAVILLEROWTHOUGHNOTSUMPTUOUSWASEXCEEDINGLYCOMFORTABLETHEHABITSOFITSOCCUPANTWERESUCHASTODEMANDBUTLITTLEFROMTHESOLEDOMESTICBUTPHILEASFOGGREQUIREDHIMTOBEALMOSTSUPERHUMANLYPROMPTANDREGULARONTHISVERYNDOFOCTOBERHEHADDISMISSEDJAMESFORSTERBECAUSETHATLUCKLESSYOUTHHADBROUGHTHIMSHAVINGWATERATEIGHTYFOURDEGREESFAHRENHEITINSTEADOFEIGHTYSIXANDHEWASAWAITINGHISSUCCESSORWHOWASDUEATTHEHOUSEBETWEENELEVENANDHALFPASTPHILEASFOGGWASSEATEDSQUARELYINHISARMCHAIRHISFEETCLOSETOGETHERLIKETHOSEOFAGRENADIERONPARADEHISHANDSRESTINGONHISKNEESHISBODYSTRAIGHTHISHEADERECTHEWASSTEADILYWATCHINGACOMPLICATEDCLOCKWHICHINDICATEDTHEHOURSTHEMINUTESTHESECONDSTHEDAYSTHEMONTHSANDTHEYEARSATEXACTLYHALFPASTELEVENMRFOGGWOULDACCORDINGTOHISDAILYHABITQUITSAVILLEROWANDREPAIRTOTHEREFORMARAPATTHISMOMENTSOUNDEDONTHEDOOROFTHECOSYAPARTMENTWHEREPHILEASFOGGWASSEATEDANDJAMESFORSTERTHEDISMISSEDSERVANTAPPEAREDTHENEWSERVANTSAIDHEAYOUNGMANOFTHIRTYADVANCEDANDBOWEDYOUAREAFRENCHMANIBELIEVEASKEDPHILEASFOGGANDYOURNAMEISJOHNJEANIFMONSIEURPLEASESREPLIEDTHENEWCOMERJEANPASSEPARTOUTASURNAMEWHICHHASCLUNGTOMEBECAUSEIHAVEANATURALAPTNESSFORGOINGOUTOFONEBUSINESSINTOANOTHERIBELIEVEIMHONESTMONSIEURBUTTOBEOUTSPOKENIVEHADSEVERALTRADESIVEBEENANITINERANTSINGERACIRCUSRIDERWHENIUSEDTOVAULTLIKELEOTARDANDDANCEONAROPELIKEBLONDINTHENIGOTTOBEAPROFESSOROFGYMNASTICSSOASTOMAKEBETTERUSEOFMYTALENTSANDTHENIWASASERGEANTFIREMANATPARISANDASSISTEDATMANYABIGFIREBUTIQUITTEDFRANCEFIVEYEARSAGOANDWISHINGTOTASTETHESWEETSOFDOMESTICLIFETOOKSERVICEASAVALETHEREINENGLANDFINDINGMYSELFOUTOFPLACEANDHEARINGTHATMONSIEURPHILEASFOGGWASTHEMOSTEXACTANDSETTLEDGENTLEMANINTHEUNITEDKINGDOMIHAVECOMETOMONSIEURINTHEHOPEOFLIVINGWITHHIMATRANQUILLIFEANDFORGETTINGEVENTHENAMEOFPASSEPARTOUTPASSEPARTOUTSUITSMERESPONDEDMRFOGGYOUAREWELLRECOMMENDEDTOMEIHEARAGOODREPORTOFYOUYOUKNOWMYCONDITIONSYESMONSIEURGOODWHATTIMEISITTWENTYTWOMINUTESAFTERELEVENRETURNEDPASSEPARTOUTDRAWINGANENORMOUSSILVERWATCHFROMTHEDEPTHSOFHISPOCKETYOUARETOOSLOWSAIDMRFOGGPARDONMEMONSIEURITISIMPOSSIBLEYOUAREFOURMINUTESTOOSLOWNOMATTERITSENOUGHTOMENTIONTHEERRORNOWFROMTHISMOMENTTWENTYNINEMINUTESAFTERELEVENAMTHISWEDNESDAYNDOCTOBERYOUAREINMYSERVICEPHILEASFOGGGOTUPTOOKHISHATINHISLEFTHANDPUTITONHISHEADWITHANAUTOMATICMOTIONANDWENTOFFWITHOUTAWORDPASSEPARTOUTHEARDTHESTREETDOORSHUTONCEITWASHISNEWMASTERGOINGOUTHEHEARDITSHUTAGAINITWASHISPREDECESSORJAMESFORSTERDEPARTINGINHISTURNPASSEPARTOUTREMAINEDALONEINTHEHOUSEINSAVILLEROWCHAPTERIIINWHICHPASSEPARTOUTISCONVINCEDTHATHEHASATLASTFOUNDHISIDEALFAITHMUTTEREDPASSEPARTOUTSOMEWHATFLURRIEDIVESEENPEOPLEATMADAMETUSSAUDSASLIVELYASMYNEWMASTERMADAMETUSSAUDSPEOPLELETITBESAIDAREOFWAXANDAREMUCHVISITEDINLONDONSPEECHISALLTHATISWANTINGTOMAKETHEMHUMANDURINGHISBRIEFINTERVIEWWITHMRFOGGPASSEPARTOUTHADBEENCAREFULLYOBSERVINGHIMHEAPPEAREDTOBEAMANABOUTFORTYYEARSOFAGEWITHFINEHANDSOMEFEATURESANDATALLWELLSHAPEDFIGUREHISHAIRANDWHISKERSWERELIGHTHISFOREHEADCOMPACTANDUNWRINKLEDHISFACERATHERPALEHISTEETHMAGNIFICENTHISCOUNTENANCEPOSSESSEDINTHEHIGHESTDEGREEWHATPHYSIOGNOMISTSCALLREPOSEINACTIONAQUALITYOFTHOSEWHOACTRATHERTHANTALKCALMANDPHLEGMATICWITHACLEAREYEMRFOGGSEEMEDAPERFECTTYPEOFTHATENGLISHCOMPOSUREWHICHANGELICAKAUFFMANNHASSOSKILFULLYREPRESENTEDONCANVASSEENINTHEVARIOUSPHASESOFHISDAILYLIFEHEGAVETHEIDEAOFBEINGPERFECTLYWELLBALANCEDASEXACTLYREGULATEDASALEROYCHRONOMETERPHILEASFOGGWASINDEEDEXACTITUDEPERSONIFIEDANDTHISWASBETRAYEDEVENINTHEEXPRESSIONOFHISVERYHANDSANDFEETFORINMENASWELLASINANIMALSTHELIMBSTHEMSELVESAREEXPRESSIVEOFTHEPASSIONSHEWASSOEXACTTHATHEWASNEVERINAHURRYWASALWAYSREADYANDWASECONOMICALALIKEOFHISSTEPSANDHISMOTIONSHENEVERTOOKONESTEPTOOMANYANDALWAYSWENTTOHISDESTINATIONBYTHESHORTESTCUTHEMADENOSUPERFLUOUSGESTURESANDWASNEVERSEENTOBEMOVEDORAGITATEDHEWASTHEMOSTDELIBERATEPERSONINTHEWORLDYETALWAYSREACHEDHISDESTINATIONATTHEEXACTMOMENTHELIVEDALONEANDSOTOSPEAKOUTSIDEOFEVERYSOCIALRELATIONANDASHEKNEWTHATINTHISWORLDACCOUNTMUSTBETAKENOFFRICTIONANDTHATFRICTIONRETARDSHENEVERRUBBEDAGAINSTANYBODYASFORPASSEPARTOUTHEWASATRUEPARISIANOFPARISSINCEHEHADABANDONEDHISOWNCOUNTRYFORENGLANDTAKINGSERVICEASAVALETHEHADINVAINSEARCHEDFORAMASTERAFTERHISOWNHEARTPASSEPARTOUTWASBYNOMEANSONEOFTHOSEPERTDUNCESDEPICTEDBYMOLIEREWITHABOLDGAZEANDANOSEHELDHIGHINTHEAIRHEWASANHONESTFELLOWWITHAPLEASANTFACELIPSATRIFLEPROTRUDINGSOFTMANNEREDANDSERVICEABLEWITHAGOODROUNDHEADSUCHASONELIKESTOSEEONTHESHOULDERSOFAFRIENDHISEYESWEREBLUEHISCOMPLEXIONRUBICUNDHISFIGUREALMOSTPORTLYANDWELLBUILTHISBODYMUSCULARANDHISPHYSICALPOWERSFULLYDEVELOPEDBYTHEEXERCISESOFHISYOUNGERDAYSHISBROWNHAIRWASSOMEWHATTUMBLEDFORWHILETHEANCIENTSCULPTORSARESAIDTOHAVEKNOWNEIGHTEENMETHODSOFARRANGINGMINERVASTRESSESPASSEPARTOUTWASFAMILIARWITHBUTONEOFDRESSINGHISOWNTHREESTROKESOFALARGETOOTHCOMBCOMPLETEDHISTOILETITWOULDBERASHTOPREDICTHOWPASSEPARTOUTSLIVELYNATUREWOULDAGREEWITHMRFOGGITWASIMPOSSIBLETOTELLWHETHERTHENEWSERVANTWOULDTURNOUTASABSOLUTELYMETHODICALASHISMASTERREQUIREDEXPERIENCEALONECOULDSOLVETHEQUESTIONPASSEPARTOUTHADBEENASORTOFVAGRANTINHISEARLYYEARSANDNOWYEARNEDFORREPOSEBUTSOFARHEHADFAILEDTOFINDITTHOUGHHEHADALREADYSERVEDINTENENGLISHHOUSESBUTHECOULDNOTTAKEROOTINANYOFTHESEWITHCHAGRINHEFOUNDHISMASTERSINVARIABLYWHIMSICALANDIRREGULARCONSTANTLYRUNNINGABOUTTHECOUNTRYORONTHELOOKOUTFORADVENTUREHISLASTMASTERYOUNGLORDLONGFERRYMEMBEROFPARLIAMENTAFTERPASSINGHISNIGHTSINTHEHAYMARKETTAVERNSWASTOOOFTENBROUGHTHOMEINTHEMORNINGONPOLICEMENSSHOULDERSPASSEPARTOUTDESIROUSOFRESPECTINGTHEGENTLEMANWHOMHESERVEDVENTUREDAMILDREMONSTRANCEONSUCHCONDUCTWHICHBEINGILLRECEIVEDHETOOKHISLEAVEHEARINGTHATMRPHILEASFOGGWASLOOKINGFORASERVANTANDTHATHISLIFEWASONEOFUNBROKENREGULARITYTHATHENEITHERTRAVELLEDNORSTAYEDFROMHOMEOVERNIGHTHEFELTSURETHATTHISWOULDBETHEPLACEHEWASAFTERHEPRESENTEDHIMSELFANDWASACCEPTEDASHASBEENSEENATHALFPASTELEVENTHENPASSEPARTOUTFOUNDHIMSELFALONEINTHEHOUSEINSAVILLEROWHEBEGANITSINSPECTIONWITHOUTDELAYSCOURINGITFROMCELLARTOGARRETSOCLEANWELLARRANGEDSOLEMNAMANSIONPLEASEDHIMITSEEMEDTOHIMLIKEASNAILSSHELLLIGHTEDANDWARMEDBYGASWHICHSUFFICEDFORBOTHTHESEPURPOSESWHENPASSEPARTOUTREACHEDTHESECONDSTORYHERECOGNISEDATONCETHEROOMWHICHHEWASTOINHABITANDHEWASWELLSATISFIEDWITHITELECTRICBELLSANDSPEAKINGTUBESAFFORDEDCOMMUNICATIONWITHTHELOWERSTORIESWHILEONTHEMANTELSTOODANELECTRICCLOCKPRECISELYLIKETHATINMRFOGGSBEDCHAMBERBOTHBEATINGTHESAMESECONDATTHESAMEINSTANTTHATSGOODTHATLLDOSAIDPASSEPARTOUTTOHIMSELFHESUDDENLYOBSERVEDHUNGOVERTHECLOCKACARDWHICHUPONINSPECTIONPROVEDTOBEAPROGRAMMEOFTHEDAILYROUTINEOFTHEHOUSEITCOMPRISEDALLTHATWASREQUIREDOFTHESERVANTFROMEIGHTINTHEMORNINGEXACTLYATWHICHHOURPHILEASFOGGROSETILLHALFPASTELEVENWHENHELEFTTHEHOUSEFORTHEREFORMCLUBALLTHEDETAILSOFSERVICETHETEAANDTOASTATTWENTYTHREEMINUTESPASTEIGHTTHESHAVINGWATERATTHIRTYSEVENMINUTESPASTNINEANDTHETOILETATTWENTYMINUTESBEFORETENEVERYTHINGWASREGULATEDANDFORESEENTHATWASTOBEDONEFROMHALFPASTELEVENAMTILLMIDNIGHTTHEHOURATWHICHTHEMETHODICALGENTLEMANRETIREDMRFOGGSWARDROBEWASAMPLYSUPPLIEDANDINTHEBESTTASTEEACHPAIROFTROUSERSCOATANDVESTBOREANUMBERINDICATINGTHETIMEOFYEARANDSEASONATWHICHTHEYWEREINTURNTOBELAIDOUTFORWEARINGANDTHESAMESYSTEMWASAPPLIEDTOTHEMASTERSSHOESINSHORTTHEHOUSEINSAVILLEROWWHICHMUSTHAVEBEENAVERYTEMPLEOFDISORDERANDUNRESTUNDERTHEILLUSTRIOUSBUTDISSIPATEDSHERIDANWASCOSINESSCOMFORTANDMETHODIDEALISEDTHEREWASNOSTUDYNORWERETHEREBOOKSWHICHWOULDHAVEBEENQUITEUSELESSTOMRFOGGFORATTHEREFORMTWOLIBRARIESONEOFGENERALLITERATUREANDTHEOTHEROFLAWANDPOLITICSWEREATHISSERVICEAMODERATESIZEDSAFESTOODINHISBEDROOMCONSTRUCTEDSOASTODEFYFIREASWELLASBURGLARSBUTPASSEPARTOUTFOUNDNEITHERARMSNORHUNTINGWEAPONSANYWHEREEVERYTHINGBETRAYEDTHEMOSTTRANQUILANDPEACEABLEHABITSHAVINGSCRUTINISEDTHEHOUSEFROMTOPTOBOTTOMHERUBBEDHISHANDSABROADSMILEOVERSPREADHISFEATURESANDHESAIDJOYFULLYTHISISJUSTWHATIWANTEDAHWESHALLGETONTOGETHERMRFOGGANDIWHATADOMESTICANDREGULARGENTLEMANAREALMACHINEWELLIDONTMINDSERVINGAMACHINE"
holmesText = "CHAPTERIMRSHERLOCKHOLMESINTHEYEARITOOKMYDEGREEOFDOCTOROFMEDICINEOFTHEUNIVERSITYOFLONDONANDPROCEEDEDTONETLEYTOGOTHROUGHTHECOURSEPRESCRIBEDFORSURGEONSINTHEARMYHAVINGCOMPLETEDMYSTUDIESTHEREIWASDULYATTACHEDTOTHEFIFTHNORTHUMBERLANDFUSILIERSASASSISTANTSURGEONTHEREGIMENTWASSTATIONEDININDIAATTHETIMEANDBEFOREICOULDJOINITTHESECONDAFGHANWARHADBROKENOUTONLANDINGATBOMBAYILEARNEDTHATMYCORPSHADADVANCEDTHROUGHTHEPASSESANDWASALREADYDEEPINTHEENEMYSCOUNTRYIFOLLOWEDHOWEVERWITHMANYOTHEROFFICERSWHOWEREINTHESAMESITUATIONASMYSELFANDSUCCEEDEDINREACHINGCANDAHARINSAFETYWHEREIFOUNDMYREGIMENTANDATONCEENTEREDUPONMYNEWDUTIESTHECAMPAIGNBROUGHTHONOURSANDPROMOTIONTOMANYBUTFORMEITHADNOTHINGBUTMISFORTUNEANDDISASTERIWASREMOVEDFROMMYBRIGADEANDATTACHEDTOTHEBERKSHIRESWITHWHOMISERVEDATTHEFATALBATTLEOFMAIWANDTHEREIWASSTRUCKONTHESHOULDERBYAJEZAILBULLETWHICHSHATTEREDTHEBONEANDGRAZEDTHESUBCLAVIANARTERYISHOULDHAVEFALLENINTOTHEHANDSOFTHEMURDEROUSGHAZISHADITNOTBEENFORTHEDEVOTIONANDCOURAGESHOWNBYMURRAYMYORDERLYWHOTHREWMEACROSSAPACKHORSEANDSUCCEEDEDINBRINGINGMESAFELYTOTHEBRITISHLINESWORNWITHPAINANDWEAKFROMTHEPROLONGEDHARDSHIPSWHICHIHADUNDERGONEIWASREMOVEDWITHAGREATTRAINOFWOUNDEDSUFFERERSTOTHEBASEHOSPITALATPESHAWARHEREIRALLIEDANDHADALREADYIMPROVEDSOFARASTOBEABLETOWALKABOUTTHEWARDSANDEVENTOBASKALITTLEUPONTHEVERANDAHWHENIWASSTRUCKDOWNBYENTERICFEVERTHATCURSEOFOURINDIANPOSSESSIONSFORMONTHSMYLIFEWASDESPAIREDOFANDWHENATLASTICAMETOMYSELFANDBECAMECONVALESCENTIWASSOWEAKANDEMACIATEDTHATAMEDICALBOARDDETERMINEDTHATNOTADAYSHOULDBELOSTINSENDINGMEBACKTOENGLANDIWASDISPATCHEDACCORDINGLYINTHETROOPSHIPORONTESANDLANDEDAMONTHLATERONPORTSMOUTHJETTYWITHMYHEALTHIRRETRIEVABLYRUINEDBUTWITHPERMISSIONFROMAPATERNALGOVERNMENTTOSPENDTHENEXTNINEMONTHSINATTEMPTINGTOIMPROVEITIHADNEITHERKITHNORKININENGLANDANDWASTHEREFOREASFREEASAIRORASFREEASANINCOMEOFELEVENSHILLINGSANDSIXPENCEADAYWILLPERMITAMANTOBEUNDERSUCHCIRCUMSTANCESINATURALLYGRAVITATEDTOLONDONTHATGREATCESSPOOLINTOWHICHALLTHELOUNGERSANDIDLERSOFTHEEMPIREAREIRRESISTIBLYDRAINEDTHEREISTAYEDFORSOMETIMEATAPRIVATEHOTELINTHESTRANDLEADINGACOMFORTLESSMEANINGLESSEXISTENCEANDSPENDINGSUCHMONEYASIHADCONSIDERABLYMOREFREELYTHANIOUGHTSOALARMINGDIDTHESTATEOFMYFINANCESBECOMETHATISOONREALIZEDTHATIMUSTEITHERLEAVETHEMETROPOLISANDRUSTICATESOMEWHEREINTHECOUNTRYORTHATIMUSTMAKEACOMPLETEALTERATIONINMYSTYLEOFLIVINGCHOOSINGTHELATTERALTERNATIVEIBEGANBYMAKINGUPMYMINDTOLEAVETHEHOTELANDTOTAKEUPMYQUARTERSINSOMELESSPRETENTIOUSANDLESSEXPENSIVEDOMICILEONTHEVERYDAYTHATIHADCOMETOTHISCONCLUSIONIWASSTANDINGATTHECRITERIONBARWHENSOMEONETAPPEDMEONTHESHOULDERANDTURNINGROUNDIRECOGNIZEDYOUNGSTAMFORDWHOHADBEENADRESSERUNDERMEATBARTSTHESIGHTOFAFRIENDLYFACEINTHEGREATWILDERNESSOFLONDONISAPLEASANTTHINGINDEEDTOALONELYMANINOLDDAYSSTAMFORDHADNEVERBEENAPARTICULARCRONYOFMINEBUTNOWIHAILEDHIMWITHENTHUSIASMANDHEINHISTURNAPPEAREDTOBEDELIGHTEDTOSEEMEINTHEEXUBERANCEOFMYJOYIASKEDHIMTOLUNCHWITHMEATTHEHOLBORNANDWESTARTEDOFFTOGETHERINAHANSOMWHATEVERHAVEYOUBEENDOINGWITHYOURSELFWATSONHEASKEDINUNDISGUISEDWONDERASWERATTLEDTHROUGHTHECROWDEDLONDONSTREETSYOUAREASTHINASALATHANDASBROWNASANUTIGAVEHIMASHORTSKETCHOFMYADVENTURESANDHADHARDLYCONCLUDEDITBYTHETIMETHATWEREACHEDOURDESTINATIONPOORDEVILHESAIDCOMMISERATINGLYAFTERHEHADLISTENEDTOMYMISFORTUNESWHATAREYOUUPTONOWLOOKINGFORLODGINGSIANSWEREDTRYINGTOSOLVETHEPROBLEMASTOWHETHERITISPOSSIBLETOGETCOMFORTABLEROOMSATAREASONABLEPRICETHATSASTRANGETHINGREMARKEDMYCOMPANIONYOUARETHESECONDMANTODAYTHATHASUSEDTHATEXPRESSIONTOMEANDWHOWASTHEFIRSTIASKEDAFELLOWWHOISWORKINGATTHECHEMICALLABORATORYUPATTHEHOSPITALHEWASBEMOANINGHIMSELFTHISMORNINGBECAUSEHECOULDNOTGETSOMEONETOGOHALVESWITHHIMINSOMENICEROOMSWHICHHEHADFOUNDANDWHICHWERETOOMUCHFORHISPURSEBYJOVEICRIEDIFHEREALLYWANTSSOMEONETOSHARETHEROOMSANDTHEEXPENSEIAMTHEVERYMANFORHIMISHOULDPREFERHAVINGAPARTNERTOBEINGALONEYOUNGSTAMFORDLOOKEDRATHERSTRANGELYATMEOVERHISWINEGLASSYOUDONTKNOWSHERLOCKHOLMESYETHESAIDPERHAPSYOUWOULDNOTCAREFORHIMASACONSTANTCOMPANIONWHYWHATISTHEREAGAINSTHIMOHIDIDNTSAYTHEREWASANYTHINGAGAINSTHIMHEISALITTLEQUEERINHISIDEASANENTHUSIASTINSOMEBRANCHESOFSCIENCEASFARASIKNOWHEISADECENTFELLOWENOUGHAMEDICALSTUDENTISUPPOSESAIDINOIHAVENOIDEAWHATHEINTENDSTOGOINFORIBELIEVEHEISWELLUPINANATOMYANDHEISAFIRSTCLASSCHEMISTBUTASFARASIKNOWHEHASNEVERTAKENOUTANYSYSTEMATICMEDICALCLASSESHISSTUDIESAREVERYDESULTORYANDECCENTRICBUTHEHASAMASSEDALOTOFOUTOFTHEWAYKNOWLEDGEWHICHWOULDASTONISHHISPROFESSORSDIDYOUNEVERASKHIMWHATHEWASGOINGINFORIASKEDNOHEISNOTAMANTHATITISEASYTODRAWOUTTHOUGHHECANBECOMMUNICATIVEENOUGHWHENTHEFANCYSEIZESHIMISHOULDLIKETOMEETHIMISAIDIFIAMTOLODGEWITHANYONEISHOULDPREFERAMANOFSTUDIOUSANDQUIETHABITSIAMNOTSTRONGENOUGHYETTOSTANDMUCHNOISEOREXCITEMENTIHADENOUGHOFBOTHINAFGHANISTANTOLASTMEFORTHEREMAINDEROFMYNATURALEXISTENCEHOWCOULDIMEETTHISFRIENDOFYOURSHEISSURETOBEATTHELABORATORYRETURNEDMYCOMPANIONHEEITHERAVOIDSTHEPLACEFORWEEKSORELSEHEWORKSTHEREFROMMORNINGTONIGHTIFYOULIKEWESHALLDRIVEROUNDTOGETHERAFTERLUNCHEONCERTAINLYIANSWEREDANDTHECONVERSATIONDRIFTEDAWAYINTOOTHERCHANNELSASWEMADEOURWAYTOTHEHOSPITALAFTERLEAVINGTHEHOLBORNSTAMFORDGAVEMEAFEWMOREPARTICULARSABOUTTHEGENTLEMANWHOMIPROPOSEDTOTAKEASAFELLOWLODGERYOUMUSTNTBLAMEMEIFYOUDONTGETONWITHHIMHESAIDIKNOWNOTHINGMOREOFHIMTHANIHAVELEARNEDFROMMEETINGHIMOCCASIONALLYINTHELABORATORYYOUPROPOSEDTHISARRANGEMENTSOYOUMUSTNOTHOLDMERESPONSIBLEIFWEDONTGETONITWILLBEEASYTOPARTCOMPANYIANSWEREDITSEEMSTOMESTAMFORDIADDEDLOOKINGHARDATMYCOMPANIONTHATYOUHAVESOMEREASONFORWASHINGYOURHANDSOFTHEMATTERISTHISFELLOWSTEMPERSOFORMIDABLEORWHATISITDONTBEMEALYMOUTHEDABOUTITITISNOTEASYTOEXPRESSTHEINEXPRESSIBLEHEANSWEREDWITHALAUGHHOLMESISALITTLETOOSCIENTIFICFORMYTASTESITAPPROACHESTOCOLDBLOODEDNESSICOULDIMAGINEHISGIVINGAFRIENDALITTLEPINCHOFTHELATESTVEGETABLEALKALOIDNOTOUTOFMALEVOLENCEYOUUNDERSTANDBUTSIMPLYOUTOFASPIRITOFINQUIRYINORDERTOHAVEANACCURATEIDEAOFTHEEFFECTSTODOHIMJUSTICEITHINKTHATHEWOULDTAKEITHIMSELFWITHTHESAMEREADINESSHEAPPEARSTOHAVEAPASSIONFORDEFINITEANDEXACTKNOWLEDGEVERYRIGHTTOOYESBUTITMAYBEPUSHEDTOEXCESSWHENITCOMESTOBEATINGTHESUBJECTSINTHEDISSECTINGROOMSWITHASTICKITISCERTAINLYTAKINGRATHERABIZARRESHAPEBEATINGTHESUBJECTSYESTOVERIFYHOWFARBRUISESMAYBEPRODUCEDAFTERDEATHISAWHIMATITWITHMYOWNEYESANDYETYOUSAYHEISNOTAMEDICALSTUDENTNOHEAVENKNOWSWHATTHEOBJECTSOFHISSTUDIESAREBUTHEREWEAREANDYOUMUSTFORMYOUROWNIMPRESSIONSABOUTHIMASHESPOKEWETURNEDDOWNANARROWLANEANDPASSEDTHROUGHASMALLSIDEDOORWHICHOPENEDINTOAWINGOFTHEGREATHOSPITALITWASFAMILIARGROUNDTOMEANDINEEDEDNOGUIDINGASWEASCENDEDTHEBLEAKSTONESTAIRCASEANDMADEOURWAYDOWNTHELONGCORRIDORWITHITSVISTAOFWHITEWASHEDWALLANDDUNCOLOUREDDOORSNEARTHEFURTHERENDALOWARCHEDPASSAGEBRANCHEDAWAYFROMITANDLEDTOTHECHEMICALLABORATORYTHISWASALOFTYCHAMBERLINEDANDLITTEREDWITHCOUNTLESSBOTTLESBROADLOWTABLESWERESCATTEREDABOUTWHICHBRISTLEDWITHRETORTSTESTTUBESANDLITTLEBUNSENLAMPSWITHTHEIRBLUEFLICKERINGFLAMESTHEREWASONLYONESTUDENTINTHEROOMWHOWASBENDINGOVERADISTANTTABLEABSORBEDINHISWORKATTHESOUNDOFOURSTEPSHEGLANCEDROUNDANDSPRANGTOHISFEETWITHACRYOFPLEASUREIVEFOUNDITIVEFOUNDITHESHOUTEDTOMYCOMPANIONRUNNINGTOWARDSUSWITHATESTTUBEINHISHANDIHAVEFOUNDAREAGENTWHICHISPRECIPITATEDBYHOEMOGLOBINANDBYNOTHINGELSEHADHEDISCOVEREDAGOLDMINEGREATERDELIGHTCOULDNOTHAVESHONEUPONHISFEATURESDRWATSONMRSHERLOCKHOLMESSAIDSTAMFORDINTRODUCINGUSHOWAREYOUHESAIDCORDIALLYGRIPPINGMYHANDWITHASTRENGTHFORWHICHISHOULDHARDLYHAVEGIVENHIMCREDITYOUHAVEBEENINAFGHANISTANIPERCEIVEHOWONEARTHDIDYOUKNOWTHATIASKEDINASTONISHMENTNEVERMINDSAIDHECHUCKLINGTOHIMSELFTHEQUESTIONNOWISABOUTHOEMOGLOBINNODOUBTYOUSEETHESIGNIFICANCEOFTHISDISCOVERYOFMINEITISINTERESTINGCHEMICALLYNODOUBTIANSWEREDBUTPRACTICALLYWHYMANITISTHEMOSTPRACTICALMEDICOLEGALDISCOVERYFORYEARSDONTYOUSEETHATITGIVESUSANINFALLIBLETESTFORBLOODSTAINSCOMEOVERHERENOWHESEIZEDMEBYTHECOATSLEEVEINHISEAGERNESSANDDREWMEOVERTOTHETABLEATWHICHHEHADBEENWORKINGLETUSHAVESOMEFRESHBLOODHESAIDDIGGINGALONGBODKININTOHISFINGERANDDRAWINGOFFTHERESULTINGDROPOFBLOODINACHEMICALPIPETTENOWIADDTHISSMALLQUANTITYOFBLOODTOALITREOFWATERYOUPERCEIVETHATTHERESULTINGMIXTUREHASTHEAPPEARANCEOFPUREWATERTHEPROPORTIONOFBLOODCANNOTBEMORETHANONEINAMILLIONIHAVENODOUBTHOWEVERTHATWESHALLBEABLETOOBTAINTHECHARACTERISTICREACTIONASHESPOKEHETHREWINTOTHEVESSELAFEWWHITECRYSTALSANDTHENADDEDSOMEDROPSOFATRANSPARENTFLUIDINANINSTANTTHECONTENTSASSUMEDADULLMAHOGANYCOLOURANDABROWNISHDUSTWASPRECIPITATEDTOTHEBOTTOMOFTHEGLASSJARHAHAHECRIEDCLAPPINGHISHANDSANDLOOKINGASDELIGHTEDASACHILDWITHANEWTOYWHATDOYOUTHINKOFTHATITSEEMSTOBEAVERYDELICATETESTIREMARKEDBEAUTIFULBEAUTIFULTHEOLDGUIACUMTESTWASVERYCLUMSYANDUNCERTAINSOISTHEMICROSCOPICEXAMINATIONFORBLOODCORPUSCLESTHELATTERISVALUELESSIFTHESTAINSAREAFEWHOURSOLDNOWTHISAPPEARSTOACTASWELLWHETHERTHEBLOODISOLDORNEWHADTHISTESTBEENINVENTEDTHEREAREHUNDREDSOFMENNOWWALKINGTHEEARTHWHOWOULDLONGAGOHAVEPAIDTHEPENALTYOFTHEIRCRIMESINDEEDIMURMUREDCRIMINALCASESARECONTINUALLYHINGINGUPONTHATONEPOINTAMANISSUSPECTEDOFACRIMEMONTHSPERHAPSAFTERITHASBEENCOMMITTEDHISLINENORCLOTHESAREEXAMINEDANDBROWNISHSTAINSDISCOVEREDUPONTHEMARETHEYBLOODSTAINSORMUDSTAINSORRUSTSTAINSORFRUITSTAINSORWHATARETHEYTHATISAQUESTIONWHICHHASPUZZLEDMANYANEXPERTANDWHYBECAUSETHEREWASNORELIABLETESTNOWWEHAVETHESHERLOCKHOLMESTESTANDTHEREWILLNOLONGERBEANYDIFFICULTYHISEYESFAIRLYGLITTEREDASHESPOKEANDHEPUTHISHANDOVERHISHEARTANDBOWEDASIFTOSOMEAPPLAUDINGCROWDCONJUREDUPBYHISIMAGINATIONYOUARETOBECONGRATULATEDIREMARKEDCONSIDERABLYSURPRISEDATHISENTHUSIASMTHEREWASTHECASEOFVONBISCHOFFATFRANKFORTLASTYEARHEWOULDCERTAINLYHAVEBEENHUNGHADTHISTESTBEENINEXISTENCETHENTHEREWASMASONOFBRADFORDANDTHENOTORIOUSMULLERANDLEFEVREOFMONTPELLIERANDSAMSONOFNEWORLEANSICOULDNAMEASCOREOFCASESINWHICHITWOULDHAVEBEENDECISIVEYOUSEEMTOBEAWALKINGCALENDAROFCRIMESAIDSTAMFORDWITHALAUGHYOUMIGHTSTARTAPAPERONTHOSELINESCALLITTHEPOLICENEWSOFTHEPASTVERYINTERESTINGREADINGITMIGHTBEMADETOOREMARKEDSHERLOCKHOLMESSTICKINGASMALLPIECEOFPLASTEROVERTHEPRICKONHISFINGERIHAVETOBECAREFULHECONTINUEDTURNINGTOMEWITHASMILEFORIDABBLEWITHPOISONSAGOODDEALHEHELDOUTHISHANDASHESPOKEANDINOTICEDTHATITWASALLMOTTLEDOVERWITHSIMILARPIECESOFPLASTERANDDISCOLOUREDWITHSTRONGACIDSWECAMEHEREONBUSINESSSAIDSTAMFORDSITTINGDOWNONAHIGHTHREELEGGEDSTOOLANDPUSHINGANOTHERONEINMYDIRECTIONWITHHISFOOTMYFRIENDHEREWANTSTOTAKEDIGGINGSANDASYOUWERECOMPLAININGTHATYOUCOULDGETNOONETOGOHALVESWITHYOUITHOUGHTTHATIHADBETTERBRINGYOUTOGETHERSHERLOCKHOLMESSEEMEDDELIGHTEDATTHEIDEAOFSHARINGHISROOMSWITHMEIHAVEMYEYEONASUITEINBAKERSTREETHESAIDWHICHWOULDSUITUSDOWNTOTHEGROUNDYOUDONTMINDTHESMELLOFSTRONGTOBACCOIHOPEIALWAYSSMOKESHIPSMYSELFIANSWEREDTHATSGOODENOUGHIGENERALLYHAVECHEMICALSABOUTANDOCCASIONALLYDOEXPERIMENTSWOULDTHATANNOYYOUBYNOMEANSLETMESEEWHATAREMYOTHERSHORTCOMINGSIGETINTHEDUMPSATTIMESANDDONTOPENMYMOUTHFORDAYSONENDYOUMUSTNOTTHINKIAMSULKYWHENIDOTHATJUSTLETMEALONEANDILLSOONBERIGHTWHATHAVEYOUTOCONFESSNOWITSJUSTASWELLFORTWOFELLOWSTOKNOWTHEWORSTOFONEANOTHERBEFORETHEYBEGINTOLIVETOGETHERILAUGHEDATTHISCROSSEXAMINATIONIKEEPABULLPUPISAIDANDIOBJECTTOROWSBECAUSEMYNERVESARESHAKENANDIGETUPATALLSORTSOFUNGODLYHOURSANDIAMEXTREMELYLAZYIHAVEANOTHERSETOFVICESWHENIMWELLBUTTHOSEARETHEPRINCIPALONESATPRESENTDOYOUINCLUDEVIOLINPLAYINGINYOURCATEGORYOFROWSHEASKEDANXIOUSLYITDEPENDSONTHEPLAYERIANSWEREDAWELLPLAYEDVIOLINISATREATFORTHEGODSABADLYPLAYEDONEOHTHATSALLRIGHTHECRIEDWITHAMERRYLAUGHITHINKWEMAYCONSIDERTHETHINGASSETTLEDTHATISIFTHEROOMSAREAGREEABLETOYOUWHENSHALLWESEETHEMCALLFORMEHEREATNOONTOMORROWANDWELLGOTOGETHERANDSETTLEEVERYTHINGHEANSWEREDALLRIGHTNOONEXACTLYSAIDISHAKINGHISHANDWELEFTHIMWORKINGAMONGHISCHEMICALSANDWEWALKEDTOGETHERTOWARDSMYHOTELBYTHEWAYIASKEDSUDDENLYSTOPPINGANDTURNINGUPONSTAMFORDHOWTHEDEUCEDIDHEKNOWTHATIHADCOMEFROMAFGHANISTANMYCOMPANIONSMILEDANENIGMATICALSMILETHATSJUSTHISLITTLEPECULIARITYHESAIDAGOODMANYPEOPLEHAVEWANTEDTOKNOWHOWHEFINDSTHINGSOUTOHAMYSTERYISITICRIEDRUBBINGMYHANDSTHISISVERYPIQUANTIAMMUCHOBLIGEDTOYOUFORBRINGINGUSTOGETHERTHEPROPERSTUDYOFMANKINDISMANYOUKNOWYOUMUSTSTUDYHIMTHENSTAMFORDSAIDASHEBADEMEGOODBYEYOULLFINDHIMAKNOTTYPROBLEMTHOUGHILLWAGERHELEARNSMOREABOUTYOUTHANYOUABOUTHIMGOODBYEGOODBYEIANSWEREDANDSTROLLEDONTOMYHOTELCONSIDERABLYINTERESTEDINMYNEWACQUAINTANCECHAPTERIITHESCIENCEOFDEDUCTIONWEMETNEXTDAYASHEHADARRANGEDANDINSPECTEDTHEROOMSATNOBBAKERSTREETOFWHICHHEHADSPOKENATOURMEETINGTHEYCONSISTEDOFACOUPLEOFCOMFORTABLEBEDROOMSANDASINGLELARGEAIRYSITTINGROOMCHEERFULLYFURNISHEDANDILLUMINATEDBYTWOBROADWINDOWSSODESIRABLEINEVERYWAYWERETHEAPARTMENTSANDSOMODERATEDIDTHETERMSSEEMWHENDIVIDEDBETWEENUSTHATTHEBARGAINWASCONCLUDEDUPONTHESPOTANDWEATONCEENTEREDINTOPOSSESSIONTHATVERYEVENINGIMOVEDMYTHINGSROUNDFROMTHEHOTELANDONTHEFOLLOWINGMORNINGSHERLOCKHOLMESFOLLOWEDMEWITHSEVERALBOXESANDPORTMANTEAUSFORADAYORTWOWEWEREBUSILYEMPLOYEDINUNPACKINGANDLAYINGOUTOURPROPERTYTOTHEBESTADVANTAGETHATDONEWEGRADUALLYBEGANTOSETTLEDOWNANDTOACCOMMODATEOURSELVESTOOURNEWSURROUNDINGSHOLMESWASCERTAINLYNOTADIFFICULTMANTOLIVEWITHHEWASQUIETINHISWAYSANDHISHABITSWEREREGULARITWASRAREFORHIMTOBEUPAFTERTENATNIGHTANDHEHADINVARIABLYBREAKFASTEDANDGONEOUTBEFOREIROSEINTHEMORNINGSOMETIMESHESPENTHISDAYATTHECHEMICALLABORATORYSOMETIMESINTHEDISSECTINGROOMSANDOCCASIONALLYINLONGWALKSWHICHAPPEAREDTOTAKEHIMINTOTHELOWESTPORTIONSOFTHECITYNOTHINGCOULDEXCEEDHISENERGYWHENTHEWORKINGFITWASUPONHIMBUTNOWANDAGAINAREACTIONWOULDSEIZEHIMANDFORDAYSONENDHEWOULDLIEUPONTHESOFAINTHESITTINGROOMHARDLYUTTERINGAWORDORMOVINGAMUSCLEFROMMORNINGTONIGHTONTHESEOCCASIONSIHAVENOTICEDSUCHADREAMYVACANTEXPRESSIONINHISEYESTHATIMIGHTHAVESUSPECTEDHIMOFBEINGADDICTEDTOTHEUSEOFSOMENARCOTICHADNOTTHETEMPERANCEANDCLEANLINESSOFHISWHOLELIFEFORBIDDENSUCHANOTIONASTHEWEEKSWENTBYMYINTERESTINHIMANDMYCURIOSITYASTOHISAIMSINLIFEGRADUALLYDEEPENEDANDINCREASEDHISVERYPERSONANDAPPEARANCEWERESUCHASTOSTRIKETHEATTENTIONOFTHEMOSTCASUALOBSERVERINHEIGHTHEWASRATHEROVERSIXFEETANDSOEXCESSIVELYLEANTHATHESEEMEDTOBECONSIDERABLYTALLERHISEYESWERESHARPANDPIERCINGSAVEDURINGTHOSEINTERVALSOFTORPORTOWHICHIHAVEALLUDEDANDHISTHINHAWKLIKENOSEGAVEHISWHOLEEXPRESSIONANAIROFALERTNESSANDDECISIONHISCHINTOOHADTHEPROMINENCEANDSQUARENESSWHICHMARKTHEMANOFDETERMINATIONHISHANDSWEREINVARIABLYBLOTTEDWITHINKANDSTAINEDWITHCHEMICALSYETHEWASPOSSESSEDOFEXTRAORDINARYDELICACYOFTOUCHASIFREQUENTLYHADOCCASIONTOOBSERVEWHENIWATCHEDHIMMANIPULATINGHISFRAGILEPHILOSOPHICALINSTRUMENTSTHEREADERMAYSETMEDOWNASAHOPELESSBUSYBODYWHENICONFESSHOWMUCHTHISMANSTIMULATEDMYCURIOSITYANDHOWOFTENIENDEAVOUREDTOBREAKTHROUGHTHERETICENCEWHICHHESHOWEDONALLTHATCONCERNEDHIMSELFBEFOREPRONOUNCINGJUDGMENTHOWEVERBEITREMEMBEREDHOWOBJECTLESSWASMYLIFEANDHOWLITTLETHEREWASTOENGAGEMYATTENTIONMYHEALTHFORBADEMEFROMVENTURINGOUTUNLESSTHEWEATHERWASEXCEPTIONALLYGENIALANDIHADNOFRIENDSWHOWOULDCALLUPONMEANDBREAKTHEMONOTONYOFMYDAILYEXISTENCEUNDERTHESECIRCUMSTANCESIEAGERLYHAILEDTHELITTLEMYSTERYWHICHHUNGAROUNDMYCOMPANIONANDSPENTMUCHOFMYTIMEINENDEAVOURINGTOUNRAVELITHEWASNOTSTUDYINGMEDICINEHEHADHIMSELFINREPLYTOAQUESTIONCONFIRMEDSTAMFORDSOPINIONUPONTHATPOINTNEITHERDIDHEAPPEARTOHAVEPURSUEDANYCOURSEOFREADINGWHICHMIGHTFITHIMFORADEGREEINSCIENCEORANYOTHERRECOGNIZEDPORTALWHICHWOULDGIVEHIMANENTRANCEINTOTHELEARNEDWORLDYETHISZEALFORCERTAINSTUDIESWASREMARKABLEANDWITHINECCENTRICLIMITSHISKNOWLEDGEWASSOEXTRAORDINARILYAMPLEANDMINUTETHATHISOBSERVATIONSHAVEFAIRLYASTOUNDEDMESURELYNOMANWOULDWORKSOHARDORATTAINSUCHPRECISEINFORMATIONUNLESSHEHADSOMEDEFINITEENDINVIEWDESULTORYREADERSARESELDOMREMARKABLEFORTHEEXACTNESSOFTHEIRLEARNINGNOMANBURDENSHISMINDWITHSMALLMATTERSUNLESSHEHASSOMEVERYGOODREASONFORDOINGSOHISIGNORANCEWASASREMARKABLEASHISKNOWLEDGEOFCONTEMPORARYLITERATUREPHILOSOPHYANDPOLITICSHEAPPEAREDTOKNOWNEXTTONOTHINGUPONMYQUOTINGTHOMASCARLYLEHEINQUIREDINTHENAIVESTWAYWHOHEMIGHTBEANDWHATHEHADDONEMYSURPRISEREACHEDACLIMAXHOWEVERWHENIFOUNDINCIDENTALLYTHATHEWASIGNORANTOFTHECOPERNICANTHEORYANDOFTHECOMPOSITIONOFTHESOLARSYSTEMTHATANYCIVILIZEDHUMANBEINGINTHISNINETEENTHCENTURYSHOULDNOTBEAWARETHATTHEEARTHTRAVELLEDROUNDTHESUNAPPEAREDTOBETOMESUCHANEXTRAORDINARYFACTTHATICOULDHARDLYREALIZEITYOUAPPEARTOBEASTONISHEDHESAIDSMILINGATMYEXPRESSIONOFSURPRISENOWTHATIDOKNOWITISHALLDOMYBESTTOFORGETITTOFORGETITYOUSEEHEEXPLAINEDICONSIDERTHATAMANSBRAINORIGINALLYISLIKEALITTLEEMPTYATTICANDYOUHAVETOSTOCKITWITHSUCHFURNITUREASYOUCHOOSEAFOOLTAKESINALLTHELUMBEROFEVERYSORTTHATHECOMESACROSSSOTHATTHEKNOWLEDGEWHICHMIGHTBEUSEFULTOHIMGETSCROWDEDOUTORATBESTISJUMBLEDUPWITHALOTOFOTHERTHINGSSOTHATHEHASADIFFICULTYINLAYINGHISHANDSUPONITNOWTHESKILFULWORKMANISVERYCAREFULINDEEDASTOWHATHETAKESINTOHISBRAINATTICHEWILLHAVENOTHINGBUTTHETOOLSWHICHMAYHELPHIMINDOINGHISWORKBUTOFTHESEHEHASALARGEASSORTMENTANDALLINTHEMOSTPERFECTORDERITISAMISTAKETOTHINKTHATTHATLITTLEROOMHASELASTICWALLSANDCANDISTENDTOANYEXTENTDEPENDUPONITTHERECOMESATIMEWHENFOREVERYADDITIONOFKNOWLEDGEYOUFORGETSOMETHINGTHATYOUKNEWBEFOREITISOFTHEHIGHESTIMPORTANCETHEREFORENOTTOHAVEUSELESSFACTSELBOWINGOUTTHEUSEFULONESBUTTHESOLARSYSTEMIPROTESTEDWHATTHEDEUCEISITTOMEHEINTERRUPTEDIMPATIENTLYYOUSAYTHATWEGOROUNDTHESUNIFWEWENTROUNDTHEMOONITWOULDNOTMAKEAPENNYWORTHOFDIFFERENCETOMEORTOMYWORKIWASONTHEPOINTOFASKINGHIMWHATTHATWORKMIGHTBEBUTSOMETHINGINHISMANNERSHOWEDMETHATTHEQUESTIONWOULDBEANUNWELCOMEONEIPONDEREDOVEROURSHORTCONVERSATIONHOWEVERANDENDEAVOUREDTODRAWMYDEDUCTIONSFROMITHESAIDTHATHEWOULDACQUIRENOKNOWLEDGEWHICHDIDNOTBEARUPONHISOBJECTTHEREFOREALLTHEKNOWLEDGEWHICHHEPOSSESSEDWASSUCHASWOULDBEUSEFULTOHIMIENUMERATEDINMYOWNMINDALLTHEVARIOUSPOINTSUPONWHICHHEHADSHOWNMETHATHEWASEXCEPTIONALLYWELLINFORMEDIEVENTOOKAPENCILANDJOTTEDTHEMDOWNICOULDNOTHELPSMILINGATTHEDOCUMENTWHENIHADCOMPLETEDITITRANINTHISWAY"

cipherText = "RUBQVPLPSZWCDRRQDTTOTFGBFRDASXRFRAISIBPCAWTWORPVQHWNOQBUABKXHVRDQBDSWAOGKRTOESQSCMOBGICNIERAMTSZOSIZABISSFIRTDFRESWKPDOBFWKRPCSFXSOBFWPRPSWAQSIRTDFRESWKPDOBGRPSAIFHBURFSDHQVPRGDTSQFHTOBICNBKVPIGFZECBKIUKFDIOSIZRQGTHOOBQBDSWAABPBDIHPOGPMKBGMIFIDOBRBYNFHOSAITZHGQGFXKIPCFRTPVSIFGFVFBUIOHQYXTRCSVAVIRTSOOBZSBNPTCSABPVKMFYKBDXKBOIFWXIQTISIGSQOSARRYQFYFDERKDIOFISTEOROSRODRRQDTTOYEZBRFXKAIETSCDBQBRAHFIAIAQNDAQCVSIFRTOSIOSEOFRTROFIPCRPQGKCFZIAZBACMNBZAIGFWKYCRKZBACMNBZAIFRTPOSOGPMKBGMAVDTOTFXISQBFRPVPHOBURMGSZLCFTDXOGQNRZFZPMTAPCOSIQRDFXIAFHFZAWPRZBSCABFRPRKSRPTDIOSZAIFHOFISTEORCSIFOBIWIEPTYWQHWFAVSXFMGTZROSRPNUAQQSVRIOIDAIVSIFGTZRLPSZBRFZDIOSAZPRZBSCABPCSFXCSZAQQSXRSXOBIAPTPDOBWKBXAIORGSGBSAHGRKCXOBIARTTDQGRPYGTPOSAZPRZBSCBOBUABRADEPWPRQCRKPTHTSZFBOSIKIXRQIGRAHFIAOSRQVSIFRTOSRQIFWAOGHOBDRZBPVPTDBZAIGSGBOFRKRQGDRKZRQGRBYNRPDTGBIAGRPSRIABPFSBFZMOTRPQFMTRNCYBGIQTTWTRHVAEPQBIHIKYRKFITORDQRXSRGSLHQGQEATWFWDZQOTORKCRAITOFTHGOGHOOBORQHQCTORKPTQCKZRODTSQTWTFGBYIDFOBORRKCRAIHCFKORZIYBTFHBETWFOFWFRFOSIZABISSFIRTDRPDOOBFWQSINAIFBNTRFIEPTYWQHWFRFIFSZAIFHOFISTEORTFPNDFBDRZFBOIZBISFBHDFKRAXRPVPHBQVPRFQHQCEYFETOSBIZBOWKCIIGRKYTFZISMADSOBCEIZAQLTBPFTTQOBIBIETOFOQBRPTBHRTZFQSQOSBOABZBWCURFRHVIOTQXFHFSRBIPDZSQGZTYIECVYRQOTHFIRBQEAXBQCOSIFIDOBZIBIOSURFRESWKCTLTAIAIIFOBISFBKRFBDXKBOITASCOSAIABPBEOPDFBOIMNTXORTFHOOBGHZTWRAIRGFAORMIDFOBZIBIOSGSDBQCRASXIZRQOSROWKRKPDOBGHZTPSOBZIBIOSTWTSIYSZSQOSBGTZSQURFRNVFKCSFZPCVSRDSVFZPMRASIZASQKMATOSIZABISSVRFWTLTAIRDBKATOSIZABISTVFBMIIZRQFYKBDPRTPFOBTSIYSZZXFZPMFBZBRAZIQRQHQCIFIGRKGIPVPBXDRDBKWKQBTWTOOBZIMNTXORBKURCFSGWDWAWIIGIFIFBDRZOBPSOBFWWRRFPTIADSKMWKGIISOBGRPSAIFHOSIGRTNFRGSQPDOBCEIZAQFNQRUSESDHOBEISIBUBQTOFBDIOSRQSEOSTOBIIKIXABIAMPSZAIRPOSROUKVSRQXBRZIGRPOSROFZOSOSRKTDPTPTLCSERQSEOSAIKMIADESQTWTRWNIOOBQSISSTFIBNEATFZBISOBQSISTLHQAEFIXIQIBITOHEIGEIRGHPKFEHZBRKHEORBWAIIFIDOBQSISTLHQARXFIDFTHGOGQRQHZTPAQCSAHGOSIZOZAFOFIEFIXIQIBITOHQEAAXTOIFIDOBSFIEEGKSESDHOBPTTUOAIAWNAEPSOBIKIXBIRQDXFTTDETQSHOOBQSISSTFIIEQRYMXDRKGYIAZIGRBIRTOFHPIZBZRQKZFOIGRKRODTYBOIOSIFIDOBPTTORKGRBIFZPCOSIZABISSVRFHFWAFVPCIAPDSFWFRKCTFIPTBEDTCWFOLPSZQRUIDSKMVSIFQBQCOSRFFIPTVYURHRXFTDYBMFBUARIZRQBRFZDISXFSWKCIIGKFICCRTBMSZSVKGCFUABIETOFOQBORTOBDIFABEHXFIDXRGROSRGWAWIRQHPKFDWGRXDIGTAYZIAOSOQIAZINFBZRQFBYIOSEIYIECVYRQDIOSIFIDOBZIBIOSYVTORAESWKYTSEVSGANHIGGOTFQRTASCOTIZIOOBFRBPTFYFTSTXGSDBQCHZAIOSBOSEEXSQRKGTPNMKIFAIORZIOSBOVKVPBIRTOFHPIOSFZYSOIDOBZIBIOSURTWTOIFETKRACRKPDFBDIOSROWKOSBGTZSQOSIQKBQROTRKPDOBTOBIHCHZIGRPDRSNVKBISEREOTBRFZDIOSIZABISTVOBRAPBBZIGOSRTRAYRWFBOAOBQOHSECMTORDBKIARFSQTOFBDIOSIZABISSVRFOSRGRQOIESHOOBWKBXAIORRKPDFBSDEIYWKBBCFOETWRRFOSBGFTDXAIOADSIDTBTRGIRURFBQBRSEIFIGAMXDHQBGDAPSOBORGSPCGRPSWAKFPTPSFEGSDLQBOIGSHCHQGQRDBKGHGIPHOBZIBIOSTOTZTGIFIDOBGRPSAIFWIWESWKGIMIGAEDSOTNOBIATOFBSDBIWIEAPDOBGHZTPSOBFWPSOBTOBIFRPCOSAOBXIQKBQROTLPSZKRDIOSIOBDBGAIYWACZBKWHCBITRXKTDAIRKCTIFWAPW"


#tryDecode(cipherText)
#getDigramFrequencies(cipherText)

possibleKeys(6)
